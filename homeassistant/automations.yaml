
# Samsung button events:
#  - 1001: Long press
#  - 1002: Single press
#  - 1004: Double press

# Aeotec / Aeon Labs Multisensor 6 Burglar (motion) events:
#  - 0: Cleared
#  - 3: Tamper (product cover removed)
#  - 8: Motion detected

# - alias: 'Test samsung motion detected'
#   trigger:
#     - platform: state
#       entity_id: binary_sensor.presence_11
#       from: 'off'
#       to: 'on'
#   action:
#       # service: light.toggle
#       # entity_id: light.office_entry
#       service: light.turn_on
#       entity_id: light.upstairs_hall_north
#
# - alias: 'Test samsung motion none'
#   trigger:
#     - platform: state
#       entity_id: binary_sensor.presence_11
#       from: 'on'
#       to: 'off'
#   action:
#       # service: light.toggle
#       # entity_id: light.office_closet_switch
#       service: light.turn_off
#       entity_id: light.upstairs_hall_north
#
# - alias: 'Multisensor 6 Motion Trigger Test'
#   trigger:
#     platform: state
#     entity_id: sensor.aeon_labs_zw100_multisensor_6_burglar
#     from: "0"
#     to: "8"
#   action:
#     # service: light.toggle
#     # entity_id: light.office_entry
#     service: light.turn_on
#     entity_id: light.upstairs_hall_north
#
# - alias: 'Multisensor 6 Motion Cleared Test'
#   trigger:
#     platform: state
#     entity_id: sensor.aeon_labs_zw100_multisensor_6_burglar
#     from: "8"
#     to: "0"
#   action:
#     # service: light.toggle
#     # entity_id: light.office_closet_switch
#     service: light.turn_off
#     entity_id: light.upstairs_hall_north

- alias: 'Upstairs hallway motion triggered'
  trigger:
    platform: state
    entity_id: binary_sensor.ecolink_motion_detector_sensor
    from: 'off'
    to: 'on'
  condition:
    - condition: state
      entity_id: sun.sun
      state: 'below_horizon'
  action:
    # service: light.toggle
    # entity_id: light.office_entry
    - service: timer.cancel
      entity_id: timer.upstairs_hallway_lights
    - service: light.turn_on
      entity_id: group.upstairs_hallway

- alias: 'Upstairs hallway motion cleared'
  trigger:
    platform: state
    entity_id: binary_sensor.ecolink_motion_detector_sensor
    from: "on"
    to: "off"
  action:
    # service: light.toggle
    # entity_id: light.office_closet_switch
    # service: light.turn_off
    # entity_id: light.upstairs_hall_north
    - service: timer.start
      entity_id: timer.upstairs_hallway_lights


- alias: 'Upstairs hallway lights timeout'
  trigger:
    - platform: event
      event_type: timer.finished
      event_data:
        entity_id: timer.upstairs_hallway_lights
  action:
      service: light.turn_off
      entity_id: group.upstairs_hallway


- alias: 'Kitchen lights toggle'
  trigger:
    - platform: event
      event_type: deconz_event
      event_data:
        id: button01
        event: 1002 # Single press
  action:
    - service: light.toggle
      entity_id: group.kitchen


- alias: 'Office lights toggle'
  trigger:
    - platform: event
      event_type: deconz_event
      event_data:
        id: button02
        event: 1002 # Single press
  action:
    - service: light.toggle
      entity_id: group.office


- alias: 'Set night light mode'
  trigger:
    - platform: time
      at: '21:30'
  action:
    - service: light.turn_on
      entity_id: group.upstairs_bathroom_lights
      data:
        brightness: 1
    - delay: '00:00:02'
    - service: light.turn_off
      entity_id: group.upstairs_bathroom_lights


- alias: 'Set day light mode'
  trigger:
    - platform: time
      at: '4:30'
  action:
    - service: light.turn_on
      entity_id: group.upstairs_bathroom_lights
      data:
        brightness_pct: 80
    - delay: '00:00:02'
    - service: light.turn_off
      entity_id: group.upstairs_bathroom_lights


- alias: 'Enable evening'
  trigger:
    - platform: time
      at: '16:00'
  action:
  #   - service: switch.turn_on
  #     entity_id: switch.christmas_tree


- alias: 'Enable night'
  trigger:
    - platform: time
      at: '23:00'
  action:
    - service: switch.turn_off
      entity_id: switch.christmas_tree


- alias: 'Entry lights'
  trigger:
    - platform: state
      entity_id: binary_sensor.front_door_multi_sensor_2
      from: 'off'
      to: 'on'
  condition:
    - condition: state
      entity_id: sun.sun
      state: 'below_horizon'
  action:
    - service: timer.start
      entity_id: timer.entry_lights
    - service: light.turn_on
      entity_id: group.outside_lights


- alias: 'Entry lights timeout'
  trigger:
    - platform: event
      event_type: timer.finished
      event_data:
        entity_id: timer.entry_lights
  action:
    - service: light.turn_off
      entity_id: light.outside_front
    - condition: state
      entity_id: timer.outside_kitchen_lights
      state: 'idle'
    - service: light.turn_off
      entity_id: light.outside_kitchen


- alias: 'Outside kitchen lights'
  trigger:
    - platform: state
      entity_id: binary_sensor.openclose_16
      from: 'off'
      to: 'on'
  condition:
    - condition: state
      entity_id: sun.sun
      state: 'below_horizon'
  action:
    - service: timer.start
      entity_id: timer.outside_kitchen_lights
    - service: light.turn_on
      entity_id: light.outside_kitchen


- alias: 'Outside kitchen lights timeout'
  trigger:
    - platform: event
      event_type: timer.finished
      event_data:
        entity_id: timer.outside_kitchen_lights
  action:
    - condition: state
      entity_id: timer.entry_lights
      state: 'idle'
    - service: light.turn_off
      entity_id: light.outside_kitchen


- alias: 'Foyer motion lights'
  trigger:
    - platform: state
      entity_id: binary_sensor.presence_13
      from: 'off'
      to: 'on'
  condition:
    - condition: state
      entity_id: sun.sun
      state: 'below_horizon'
  action:
    - service: timer.start
      entity_id: timer.foyer_lights
    - service: light.turn_on
      entity_id: light.foyer
      data:
        brightness_pct: 100


- alias: 'Foyer lights timeout'
  trigger:
    - platform: event
      event_type: timer.finished
      event_data:
        entity_id: timer.foyer_lights
  action:
      service: light.turn_off
      entity_id: light.foyer
